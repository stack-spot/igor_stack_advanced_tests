name: template_hook_tests
description: Template used to test hooks and triggers
types:
  - app-template
inputs:
  - label: Project name
    type: text
    name: project_name
    default: project-name
  - label: Input1
    type: text
    name: input1
  - label: Input2
    type: text
    name: input2
hooks:
  ## ---------------------------------------
  ## ---------- HOOK TYPE: RUN
  ## ---------------------------------------
  - type: run
    trigger: before-input # TODO: TRY to validate during inputs, not after (expect echo string before input...)
    linux:
      - echo "hello from run-hook-before-input on Linux"
    mac:
      - echo "hello from run-hook-before-input on Mac"
    windows:
      - cmd /C echo "hello from run-hook-before-input on Windows"
  - type: run
    trigger: before-render
    linux:
      - echo "hello from run-hook-before-render on Linux"
      - sh ../{{component_path}}/scripts/unix/assert_file_not_found.sh README.md
    mac:
      - echo "hello from run-hook-before-render on Mac"
      - sh ../{{component_path}}/scripts/unix/assert_file_not_found.sh README.md
    windows: # TODO
      - cmd /C echo "hello from run-hook-before-render on Windows"
  - type: run
    trigger: after-render
    linux:
      - echo "hello from run-hook-after-render on Linux"
      - sh ../{{component_path}}/scripts/unix/assert_file_found.sh README.md
    mac:
      - echo "hello from run-hook-after-render on Mac"
      - sh ../{{component_path}}/scripts/unix/assert_file_found.sh README.md
    windows: # TODO
      - cmd /C echo "hello from run-hook-after-render on Windows"
  ## ---------------------------------------
  ## ---------- HOOK TYPE: RUN-SCRIPT
  ## ---------------------------------------
  - type: run-script
    trigger: before-input
    script: scripts/assert_inputs_empty.py
  - type: run-script
    trigger: before-render
    script: scripts/assert_readme_not_found.py
  - type: run-script
    trigger: after-render
    script: scripts/assert_readme_found.py

